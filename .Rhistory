dplyr::rename(frameOne, "Station" = V5)
names(frameOne) <- c("V1","V2","V3","Station","V5","V6","V7","V8","V9","V10","V11")
frameOne <- select(frameOne, V1, Station)
library(readr)
Turnstile_Data_CSV <- read_csv("L:/Data/Rudin/Personal Folders/Ari/GIS Competition/Turnstile Data CSV.csv")
View(Turnstile_Data_CSV)
frameOne <- select(frameOne, Station)
countTable1 <- as.data.frame(table(frameOne$Station))
countTable2 <- dplyr::count(frameOne, Station)
write.csv(countTable2, file = "countTable2.csv")
#remove everything from local environment
rm(list= ls())
#Import good libraries
library(dplyr)
library(plyr)
#read the csv in
frameOne <- read.csv("~/Desktop/AggregateCSV.csv", header = FALSE)
frameOne <- as.data.frame(frameOne)
#sweet no variable names and idk what the fuck any of these things are
#looks like at least station name is a thing so i'll label that
dplyr::rename(frameOne, "Station" = V5)
#well thats not working idk why
names(frameOne) <- c("NTA","Subway ID","V3","Station","Line","Operator","Date","Time","Indicator","Entrances","Exits")
#drop hella varibales
frameOne <- select(frameOne, Station)
#basic way with in house r syntax
countTable1 <- as.data.frame(table(frameOne$Station))
#super simple way with good library dplyr
countTable2 <- dplyr::count(frameOne, Station)
#export that shit
write.csv(countTable2, file = "countTable2.csv")
#million ways to do this. point and click menu in access would work, as well as any
#SQL query (look up group by statements), and also powerpivot in excel (uses SQL backend)
names(frameOne) <- c("NTA","Subway ID","Variable","Station","Line","Operator","Date","Time","Indicator","Entrances","Exits")
pip install subsample
install pip
getwd()
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/All")
Nov20points <- read.csv("Nov20s.csv")
Nov25points <- read.csv("Nov25s.csv")
Nov30points <- read.csv("Nov30s.csv")
Nov35points <- read.csv("Nov35s.csv")
Nov40points <- read.csv("Nov40s.csv")
Nov45points <- read.csv("Nov45s.csv")
Nov50points <- read.csv("Nov50s.csv")
Nov50SuperSpeeders <- subset(Nov50points, Nov50points$mph > 100)
Nov45SuperSpeeders <- subset(Nov45points, Nov45points$mph > 90)
Nov40SuperSpeeders <- subset(Nov40points, Nov40points$mph > 80)
Nov35SuperSpeeders <- subset(Nov35points, Nov35points$mph > 70)
Nov30SuperSpeeders <- subset(Nov30points, Nov30points$mph > 60)
Nov25SuperSpeeders <- subset(Nov25points, Nov25points$mph > 50)
Nov20SuperSpeeders <- subset(Nov20points, Nov20points$mph > 40)
Nov15SuperSpeeders <- subset(Nov15points, Nov15points$mph > 30)
Nov_SuperSpeeders <- rbind(Nov50SuperSpeeders,Nov45SuperSpeeders,Nov40SuperSpeeders,Nov35SuperSpeeders,Nov30SuperSpeeders,Nov25SuperSpeeders,Nov20SuperSpeeders)
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/SuperSpeeders")
write.csv(Nov_SuperSpeeders, "Nov_SuperSpeeders.csv")
rm(Nov20points,Nov20SuperSpeeders,Nov25points,Nov25SuperSpeeders,Nov30points,Nov30SuperSpeeders,Nov35points,Nov35SuperSpeeders)
rm(Nov40points,Nov40SuperSpeeders,Nov45points,Nov50points,Nov50SuperSpeeders)
rm(Nov45SuperSpeeders)
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/Total")
Sep_Speeders <- read.csv(Sep_Speeders)
Oct_Speeders <- read.csv(Oct_Speeders)
Nov_Speeders <- read.csv(Nov_Speeders)
Dec_Speeders <- read.csv(Dec_Speeders)
Jan_Speeders <- read.csv(Jan_Speeders)
Feb_Speeders <- read.csv(Feb_Speeders)
Mar_Speeders <- read.csv(Mar_Speeders)
Sep_Speeders <- read.csv("Sep_Speeders.csv")
Oct_Speeders <- read.csv("Oct_Speeders.csv")
Nov_Speeders <- read.csv("Nov_Speeders.csv")
Dec_Speeders <- read.csv("Dec_Speeders.csv")
Jan_Speeders <- read.csv("Jan_Speeders.csv")
Feb_Speeders <- read.csv("Feb_Speeders.csv")
Mar_Speeders <- read.csv("Mar_Speeders.csv")
Total_Speeders <- rbind(Sep_Speeders, Oct_Speeders, Nov_Speeders,Dec_Speeders,Jan_Speeders,Feb_Speeders,Mar_Speeders)
write.csv(Total_Speeders, "Total_Speeders.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/SuperSpeeders")
Sep_SuperSpeeders <- read.csv("Sep_SuperSpeeders.csv")
Oct_SuperSpeeders <- read.csv("Oct_SuperSpeeders.csv")
Nov_SuperSpeeders <- read.csv("Nov_SuperSpeeders.csv")
Dec_SuperSpeeders <- read.csv("Dec_SuperSpeeders.csv")
Jan_SuperSpeeders <- read.csv("Jan_SuperSpeeders.csv")
Feb_SuperSpeeders <- read.csv("Feb_SuperSpeeders.csv")
Mar_SuperSpeeders <- read.csv("Mar_SuperSpeeders.csv")
Total_SuperSpeeders <- rbind(Sep_SuperSpeeders, Oct_SuperSpeeders, Nov_SuperSpeeders,Dec_SuperSpeeders,Jan_SuperSpeeders,Feb_SuperSpeeders,Mar_SuperSpeeders)
View(Nov_SuperSpeeders)
View(Mar_SuperSpeeders)
Nov_SuperSpeeders <- Nov_SuperSpeeders[c(2,3,4,5,6,7,8,9,10)]
Nov_SuperSpeeders <- read.csv("Nov_SuperSpeeders.csv")
Nov_SuperSpeeders <- Nov_SuperSpeeders[c(2,3,4,5,6,7,8,9,10,11)]
View(Mar_SuperSpeeders)
Nov_SuperSpeeders <- Nov_SuperSpeeders[c(2,3,4,5,6,7,8,9,10,11)]
Total_SuperSpeeders <- rbind(Sep_SuperSpeeders, Oct_SuperSpeeders, Nov_SuperSpeeders,Dec_SuperSpeeders,Jan_SuperSpeeders,Feb_SuperSpeeders,Mar_SuperSpeeders)
write.csv(Total_Speeders, "Total_SuperSpeeders.csv")
write.csv(Total_SuperSpeeders, "Total_SuperSpeeders.csv")
Sep15s <- read.csv("Sep15s.csv")
Oct15s <- read.csv("Oct15s.csv")
Nov15s <- read.csv("Nov15s.csv")
Dec15s <- read.csv("Dec15s.csv")
Jan15s <- read.csv("Jan15s.csv")
Feb15s <- read.csv("Feb15s.csv")
Mar15s <- read.csv("Mar15s.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/Total")
Sep15s <- read.csv("Sep15s.csv")
Oct15s <- read.csv("Oct15s.csv")
Nov15s <- read.csv("Nov15s.csv")
Dec15s <- read.csv("Dec15s.csv")
Jan15s <- read.csv("Jan15s.csv")
Feb15s <- read.csv("Feb15s.csv")
Mar15s <- read.csv("Mar15s.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/All")
Sep15s <- read.csv("Sep15s.csv")
Oct15s <- read.csv("Oct15s.csv")
Nov15s <- read.csv("Nov15s.csv")
Dec15s <- read.csv("Dec15s.csv")
Jan15s <- read.csv("Jan15s.csv")
Feb15s <- read.csv("Feb15s.csv")
Mar15s <- read.csv("Mar15s.csv")
Total_15s <- rbind(Sep15s,Oct15s,Nov15s,Dec15s,Jan15s,Feb15s,Mar15s)
Total_15s <- rbind(Oct15s,Nov15s,Dec15s,Jan15s,Feb15s,Mar15s)
Total_15s <- rbind(Nov15s,Dec15s,Jan15s,Feb15s,Mar15s)
Total_15s <- rbind(Dec15s,Jan15s,Feb15s,Mar15s)
Total_15s <- rbind(Dec15s,Feb15s,Mar15s)
Total_15s <- rbind(Dec15s,Feb15s)
write.csv(Total_15s, "Total_15s.csv")
Sep20s <- read.csv("Sep20s.csv")
Oct20s <- read.csv("Oct20s.csv")
Nov20s <- read.csv("Nov20s.csv")
Dec20s <- read.csv("Dec20s.csv")
Jan20s <- read.csv("Jan20s.csv")
Feb20s <- read.csv("Feb20s.csv")
Mar20s <- read.csv("Mar20s.csv")
Total_20s <- rbind(Sep20s, Oct20s, Nov20s,Dec20s,Jan20s,Feb20s,Mar20s)
write.csv(Total_20s, "Total_20s.csv")
Sep30s <- read.csv("Sep30s.csv")
Oct30s <- read.csv("Oct30s.csv")
Nov30s <- read.csv("Nov30s.csv")
Dec30s <- read.csv("Dec30s.csv")
Jan30s <- read.csv("Jan30s.csv")
Feb30s <- read.csv("Feb30s.csv")
Mar30s <- read.csv("Mar30s.csv")
Total_30s <- rbind(Sep30s,Oct30s,Nov30s,Dec30s,Jan30s,Feb30s,Mar30s)
write.csv(Total_30s, "Total_30s.csv")
Total_25s <- rbind(Sep25s,Oct25s,Nov25s,Dec25s,Jan25s,Feb25s,Mar25s)
Sep25s <- read.csv("Sep25s.csv")
Total_25s <- rbind(Sep25s,Oct25s,Nov25s,Dec25s,Jan25s,Feb25s,Mar25s)
Oct25s <- read.csv("Oct25s.csv")
Nov25s <- read.csv("Nov25s.csv")
Dec25s <- read.csv("Dec25s.csv")
Jan25s <- read.csv("Jan25s.csv")
Feb25s <- read.csv("Feb25s.csv")
Mar25s <- read.csv("Mar25s.csv")
Total_25s <- rbind(Sep25s,Oct25s,Nov25s,Dec25s,Jan25s,Feb25s,Mar25s)
write.csv(Total_25s, "Total_25s.csv")
Sep35s <- read.csv("Sep35s.csv")
Oct35s <- read.csv("Oct35s.csv")
Nov35s <- read.csv("Nov35s.csv")
Dec35s <- read.csv("Dec35s.csv")
Jan35s <- read.csv("Jan35s.csv")
Feb35s <- read.csv("Feb35s.csv")
Mar35s <- read.csv("Mar35s.csv")
Total_35s <- rbind(Sep35s,Oct35s,Nov35s,Dec35s,Jan35s,Feb35s,Mar35s)
write.csv(Total_35s, "Total_35s.csv")
Sep40s <- read.csv("Sep40s.csv")
Oct40s <- read.csv("Oct40s.csv")
Nov40s <- read.csv("Nov40s.csv")
Dec40s <- read.csv("Dec40s.csv")
Jan40s <- read.csv("Jan40s.csv")
Feb40s <- read.csv("Feb40s.csv")
Mar40s <- read.csv("Mar40s.csv")
Total_40s <- rbind(Sep40s,Oct40s,Nov40s,Dec40s,Jan40s,Feb40s,Mar40s)
write.csv(Total_40s, "Total_40s.csv")
Sep45s <- read.csv("Sep45s.csv")
Oct45s <- read.csv("Oct45s.csv")
Nov45s <- read.csv("Nov45s.csv")
Dec45s <- read.csv("Dec45s.csv")
Jan45s <- read.csv("Jan45s.csv")
Feb45s <- read.csv("Feb45s.csv")
Mar45s <- read.csv("Mar45s.csv")
Total_45s <- rbind(Sep45s,Oct45s,Nov45s,Dec45s,Jan45s,Feb45s,Mar45s)
write.csv(Total_45s, "Total_45s.csv")
Sep50s <- read.csv("Sep50s.csv")
Oct50s <- read.csv("Oct50s.csv")
Nov50s <- read.csv("Nov50s.csv")
Dec50s <- read.csv("Dec50s.csv")
Jan50s <- read.csv("Jan50s.csv")
Feb50s <- read.csv("Feb50s.csv")
Mar50s <- read.csv("Mar50s.csv")
Total_50s <- rbind(Sep50s,Oct50s,Nov50s,Dec50s,Jan50s,Feb50s,Mar50s)
write.csv(Total_50s, "Total_50s.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/Total")
Sep_Speeders <- read.csv("Sep_Speeders.csv")
Oct_Speeders <- read.csv("Oct_Speeders.csv")
Nov_Speeders <- read.csv("Nov_Speeders.csv")
Dec_Speeders <- read.csv("Dec_Speeders.csv")
Jan_Speeders <- read.csv("Jan_Speeders.csv")
Feb_Speeders <- read.csv("Feb_Speeders.csv")
Mar_Speeders <- read.csv("Mar_Speeders.csv")
View(Dec_Speeders)
View(Feb_Speeders)
View(Jan_Speeders)
View(Mar_Speeders)
View(Nov_Speeders)
View(Oct_Speeders)
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/All")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Speeding CSVs/All")
Total25s <- read.csv("Total_25s.csv")
Total25s <- Total25s[c(3,5,6,7)]
View(Total25s)
write.csv(Total25s,"Total25s.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Fast Roads/CSVs")
write.csv(Total25s,"Total25s.csv")
Total_30s_RJ <- read.csv("Total_30s_RoadJoin.csv")
Total_30s_mean_street <- aggregate(mph~NAME+street, Total_30s_RJ, FUN = mean) #get overall street means
View(Total_30s_RJ)
Total_30s_RJ <- Total_30s_RJ[c(4,7,10,11,12)]
View(Total_30s_RJ)
setwd("C:/Users/alk511/Desktop/Dash/Data/Shapefiles/NYC/trees")
TotalCars2017clean <- Total_Cars2017[c(7,8,9)]
Total_30s_mean_street <- aggregate(mph~street, Total_30s_RJ, FUN = mean) #get overall street means
View(Total_30s_mean_street)
View(Total_30s_RJ)
Total_30s_mean_street <- aggregate(mph~postvz_sl+street, Total_30s_RJ, FUN = mean) #get overall street means
View(Total_30s_mean_street)
Total_mean_streetID <- aggregate(id~street, Total_30s_RJ, FUN = function(x) length(unique(x))) #get sample size
View(Total_mean_streetID)
Total_mean_street <- left_join(Total_mean_street, Total_mean_streetID, by= "street") #join sample size with means
dplyr
library('dplyr')
Total_mean_street <- left_join(Total_mean_street, Total_mean_streetID, by= "street") #join sample size with means
Total_30s_mean_street <- left_join(Total_30s_mean_street, Total_mean_streetID, by= "street") #join sample size with means
View(Total_30s_mean_street)
Total_30s_mean_street <- Total__30s_mean_street[which(Total_mean_street$id>3),] #only use roads with at least 3 cars
Total_30s_mean_street <- Total__30s_mean_street[which(Total__30s_mean_street$id>3),] #only use roads with at least 3 cars
Total_30s_mean_street <- Total_30s_mean_street[which(Total__30s_mean_street$id>3),] #only use roads with at least 3 cars
Total_30s_mean_street <- Total_30s_mean_street[which(Total_30s_mean_street$id>3),] #only use roads with at least 3 cars
View(Total_30s_mean_street)
Total_25s_RJ <- read.csv("Total_25_RoadJoin.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Fast Roads/CSVs")
Total_25s_RJ <- read.csv("Total_25_RoadJoin.csv")
Total_25s_RJ <- read.csv("Total_25s_RoadJoin.csv")
View(Total_25s_RJ)
Total_30s_RJ <- Total_30s_RJ[c(5,6,7,8,10,11,12,13)]
Total_30s_RJ <- Total_30s_RJ[c(5,6,7,8,10,11,12,13),]
Total_25s_RJ <- Total_25s_RJ[c(5,6,7,8,10,11,12,13),]
Total_25s_RJ <- read.csv("Total_25s_RoadJoin.csv")
Total_25s_RJ <- Total_25s_RJ[c(5,6,7,8,10,11,12,13),]
Total_25s_RJ <- read.csv("Total_25s_RoadJoin.csv")
Total_25s_RJ <- Total_25s_RJ[c(5,6,7,8,10,11,12,13)]
View(Total_25s_RJ)
Total_25s_mean_street <- aggregate(mph~OBJECTID+postvz_sl+street, Total_25s_RJ, FUN = mean) #get overall street means
View(Total_25s_mean_street)
Total_mean_streetID <- aggregate(id~+OBJECTID+street, Total_25s_RJ, FUN = function(x) length(unique(x))) #get sample size
View(Total_mean_streetID)
Total_25s_mean_street <- left_join(Total_25s_mean_street, Total_mean_streetID, by= c("OBJECTID" = "OBJECTID", "street" = "street")) #join sample size with means
View(Total_25s_mean_street)
setwd("C:/Users/alk511/Desktop/Dash/NEW/Fast Roads/CSVs")
Total_25s_mean_street <- Total_25s_mean_street[which(Total_25s_mean_street$id>3),] #only use roads with at least 3 cars
setwd("C:/Users/alk511/Desktop/Dash/NEW/Fast Roads/CSVs/Final")
write.csv(Total_25s_mean_street("Total_25s_FR.csv")
write.csv(Total_25s_mean_street,("Total_25s_FR.csv"))
write.csv(Total_25s_mean_street,"Total_25s_FR.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Fast Roads/CSVs")
Total_50s_RJ <- read.csv("Total_50s_FR.csv")
setwd("C:/Users/alk511/Desktop/Dash/NEW/Fast Roads/CSVs")
Total_50s_RJ <- read.csv("Total_50s_RoadJoin.csv")
View(Total_50s_RJ)
View(Total_25s_RJ)
View(Total_25s_RJ)
Total_50s_RJ <- Total_50s_RJ[c(6,8,9,10,12,13,,16,17,18,19)]
Total_50s_RJ <- Total_50s_RJ[c(6,8,9,10,12,13,16,17,18,19)]
View(Total_50s_RJ)
Total_50s_RJ <- Total_50s_RJ[c(1,2,3,4,7,8,9,10)]
library('dplyr')
Total_50s_mean_street <- aggregate(mph~OBJECTID+postvz_sl+street, Total_50s_RJ, FUN = mean) #get overall street means
Total_mean_streetID <- aggregate(id~+OBJECTID+street, Total_50s_RJ, FUN = function(x) length(unique(x))) #get sample size
Total_50s_mean_street <- left_join(Total_50s_mean_street, Total_mean_streetID, by= c("OBJECTID" = "OBJECTID", "street" = "street")) #join sample size with means
Total_50s_mean_street <- Total_50s_mean_street[which(Total_50s_mean_street$id>3),] #only use roads with at least 3 cars
View(Total_50s_mean_street)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/LA")
LA_Commuters <- read.csv("LA-Commute.csv", skip = 1)
LA_Commuters <- LA_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(LA_Commuters) <- substring(names(LA_Commuters), 11)
colnames(LA_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/LA")
LA_Commuters <- read.csv("LA-Commute.csv", skip = 1)
LA_Commuters <- LA_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(LA_Commuters) <- substring(names(LA_Commuters), 11)
colnames(LA_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(LA_Commuters,"LA_Commuters.csv", row.names = F)
View(LA_Commuters)
library(raster)
library(rgdal)
LA_BG <- shapefile("cb_2016_06_bg_500k.shp")
LA_BG <- shapefile("cb_2016_06_bg_500k.shp")
LA_BG <- shapefile("cb_2017_06_bg_500k.shp")
LA_Merged <- merge(LA_BG, LA_Commuters, by='GEOID')
shapefile(LA_Merged, "LA_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Boston")
Boston_Commuters <- read.csv("Boston-Commute.csv", skip = 1)
Boston_Commuters <- Boston_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Boston_Commuters) <- substring(names(Boston_Commuters), 11)
colnames(Boston_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
View(Boston_Commuters)
Boston_BG <- shapefile("cb_2017_25_bg_500k.shp")
BOston_Merged <- merge(Boston_BG, Boston_Commuters, by='GEOID')
shapefile(Boston_Merged, "Boston_Merged.shp",overwrite=T)
Boston_Merged <- merge(Boston_BG, Boston_Commuters, by='GEOID')
shapefile(Boston_Merged, "Boston_Merged.shp",overwrite=T)
rm(BOston_Merged)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Chicago")
Chicago_Commuters <- read.csv("Chicago-Commute.csv", skip = 1)
Chicago_Commuters <- Chicago_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Chicago_Commuters) <- substring(names(Chicago_Commuters), 11)
colnames(Chicago_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Chicago_Commuters,"Chicago_Commuters.csv", row.names = F)
View(Chicago_Commuters)
Chicago_BG <- shapefile("cb_2017_17_bg_500k.shp")
Chicago_Merged <- merge(Chicago_BG, Chicago_Commuters, by='GEOID')
shapefile(Chicago_Merged, "Chicago_Merged.shp",overwrite=T)
View(Boston_Commuters)
View(LA_Commuters)
View(LA_Commuters)
paste0("0", LA_Commuters$GEOID)
LA_Commuters$GEOID <- paste0("0", LA_Commuters$GEOID)
View(LA_Commuters)
write.csv(LA_Commuters,"LA_Commuters.csv", row.names = F)
LA_Merged <- merge(LA_BG, LA_Commuters, by='GEOID')
shapefile(LA_Merged, "LA_Merged.shp",overwrite=T)
View(LA_Commuters)
LA_Merged <- merge(LA_BG, LA_Commuters, by='GEOID')
shapefile(LA_Merged, "LA_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/LA")
shapefile(LA_Merged, "LA_Merged.shp",overwrite=T)
LA_Merged <- merge(LA_BG, LA_Commuters, by='GEOID', all=FALSE)
shapefile(LA_Merged, "LA_Merged.shp",overwrite=T)
shapefile(LA_Merged, "LA_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Boston")
Boston_Merged <- merge(Boston_BG, Boston_Commuters, by='GEOID', all=FALSE)
shapefile(Boston_Merged, "Boston_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Chicago")
Chicago_Merged <- merge(Chicago_BG, Chicago_Commuters, by='GEOID', all=FALSE)
shapefile(Chicago_Merged, "Chicago_Merged.shp",overwrite=T)
names(Chicago_Commuters) <- substring(names(Chicago_Commuters), 11)
View(Boston_Commuters)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Miami")
Miami_Commuters <- read.csv("Miami-Commute.csv", skip = 1)
Miami_Commuters <- Miami_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Miami_Commuters) <- substring(names(Miami_Commuters), 11)
colnames(Miami_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Miami_Commuters,"Miami_Commuters.csv", row.names = F)
Miami_BG <- shapefile("cb_2017_12_bg_500k.shp")
Miami_Merged <- merge(Miami_BG, Miami_Commuters, by='GEOID', all=FALSE)
shapefile(Miami_Merged, "Miami_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Denver")
Denver_Commuters <- read.csv("Denver-Commute.csv", skip = 1)
Denver_Commuters <- Denver_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Denver_Commuters) <- substring(names(Denver_Commuters), 11)
colnames(Denver_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Denver_Commuters,"Denver_Commuters.csv", row.names = F)
View(Denver_Commuters)
Denver_Commuters$GEOID <- paste0("0", Denver_Commuters$GEOID)
View(Denver_Commuters)
write.csv(Denver_Commuters,"Denver_Commuters.csv", row.names = F)
Denver_BG <- shapefile("cb_2017_08_bg_500k.shp")
Denver_Merged <- merge(Denver_BG, Denver_Commuters, by='GEOID', all=FALSE)
shapefile(Denver_Merged, "Denver_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Cleveland")
Cleveland_Commuters <- read.csv("Cleveland-Commute.csv", skip = 1)
Cleveland_Commuters <- Cleveland_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Cleveland_Commuters) <- substring(names(Cleveland_Commuters), 11)
colnames(Cleveland_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Cleveland_Commuters,"Cleveland_Commuters.csv", row.names = F)
View(Cleveland_Commuters)
Cleveland_BG <- shapefile("cb_2017_39_bg_500k.shp")
Cleveland_Merged <- merge(Cleveland_BG, Cleveland_Commuters, by='GEOID', all=FALSE)
shapefile(Cleveland_Merged, "Cleveland_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Atlanta")
Atlanta_Commuters <- read.csv("Atlanta-Commute.csv", skip = 1)
Atlanta_Commuters <- Atlanta_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Atlanta_Commuters) <- substring(names(Atlanta_Commuters), 11)
colnames(Atlanta_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Atlanta_Commuters,"Atlanta_Commuters.csv", row.names = F)
Atlanta_BG <- shapefile("cb_2017_13_bg_500k.shp")
Atlanta_Merged <- merge(Atlanta_BG, Atlanta_Commuters, by='GEOID', all=FALSE)
shapefile(Atlanta_Merged, "Atlanta_Merged.shp",overwrite=T)
setwd("L:/Data/Rudin/Personal Folders/Ari/Ditu/Commuters/Seattle")
Seattle_Commuters <- read.csv("Seattle-Commute.csv", skip = 1)
Seattle_Commuters <- Seattle_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Seattle_Commuters) <- substring(names(Seattle_Commuters), 11)
colnames(Seattle_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Seattle_Commuters,"Seattle_Commuters.csv", row.names = F)
Seattle_Commuters <- read.csv("Seattle-Commute.csv", skip = 1)
Seattle_Commuters <- Seattle_Commuters[c(2,4,6,22,24,26,28,30,32,34,36,38,40,42,44)]
names(Seattle_Commuters) <- substring(names(Seattle_Commuters), 11)
colnames(Seattle_Commuters) <- c("GEOID","Total","CarT","PubTrans","Bus","Streetcar","Subway","Rail","Ferry","Taxi","Motorcycle","Bike","Walk","Other","Home")
write.csv(Seattle_Commuters,"Seattle_Commuters.csv", row.names = F)
Seattle_BG <- shapefile("cb_2017_53_bg_500k.shp")
Seattle_Merged <- merge(Seattle_BG, Seattle_Commuters, by='GEOID', all=FALSE)
shapefile(Seattle_Merged, "Seattle_Merged.shp",overwrite=T)
setwd("C:/Users/alk511/Documents/GitHub/DOT-Test-Analysis")
data <- read.csv("bike_year_age_gender.csv")
data$AGE <-  as.integer(data$AGE)
#create sex freq tables
sex_freqtable <- xtabs(~ AGE + SEX, data=data)
sex_freqtable <- as.data.frame(sex_freqtable)
library(dplyr)
sex_freqtable <- sex_freqtable %>% filter(Freq != 0)
sex_freqtable <- sex_freqtable %>% filter(SEX != '')
#create sex freq tables
year_freqtable <- xtabs(~ CASE_YR+ SEX, data=data)
year_freqtable <- as.data.frame(year_freqtable)
library(dplyr)
year_freqtable <- year_freqtable %>% filter(Freq != 0)
year_freqtable <- year_freqtable %>% filter(SEX != ' ')
#create contour freq table
contour_freqtable <- xtabs(~ AGE + SEX + CASE_YR, data=data)
contour_freqtable <- as.data.frame(contour_freqtable)
library(dplyr)
contour_freqtable <- contour_freqtable %>% filter(Freq != 0)
contour_freqtable <- contour_freqtable %>% filter(SEX != '')
contour_freqtable <- contour_freqtable %>% filter(SEX != ' ')
View(year_freqtable)
year_freqtable <- year_freqtable %>% filter(SEX != '')
View(year_freqtable)
View(data)
library(ggplot2)
library(ggplot2)
ggplot(data = year_freqtable, aes(x = CASE_YR, y = Freq, fill = SEX, color= SEX,group=SEX)) +
#geom_bar(stat = "Identity")
geom_point(size=.5)+
geom_line()
ggplot(data = year_freqtable, aes(x = CASE_YR, y = Freq, fill = SEX, color= SEX,group=SEX)) +
#geom_bar(stat = "Identity")
geom_point(size=.5)+
geom_line()
library(ggplot2)
ggplot(data = year_freqtable, aes(x = CASE_YR, y = Freq, fill = SEX, color= SEX,group=SEX)) +
#geom_bar(stat = "Identity")
geom_point(size=.5)+
geom_line()
install.packages('cairo')
install.packages('pango')
